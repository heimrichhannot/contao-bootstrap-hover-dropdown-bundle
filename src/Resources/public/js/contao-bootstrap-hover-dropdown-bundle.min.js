(function(a){var b=a();a.fn.dropdownHover=function(c){if("ontouchstart" in document){return this}b=b.add(this.parent());return this.each(function(){var j=a(this),g=j.parent(),f={delayClose:1000,delayOpen:300,delaySwitch:100,instantlyCloseOthers:true},h={delayClose:a(this).data("delay-close"),delayOpen:a(this).data("delay-open"),delaySwitch:a(this).data("delay-switch"),instantlyCloseOthers:a(this).data("close-others")},l="show.bs.dropdown",d="hide.bs.dropdown",e=a.extend(true,{},f,c,h),m,i;g.hover(function(o){if(g.hasClass("open")&&!j.is(o.target)){return true}var n=g.parents(".dropdown-menu").length,p=g.siblings().hasClass("show");window.clearTimeout(i);m=window.setTimeout(function(){k(o)},p||n?e.delaySwitch:e.delayOpen)},function(){clearTimeout(m);var n=g.parents(".dropdown-menu").length;i=window.setTimeout(function(){g.removeClass("open");g.find(".dropdown-menu").removeClass("show")},m&&!n?e.delayClose:e.delaySwitch)});b.find(".dropdown-menu").hover(function(){window.clearTimeout(i)},function(){var n=a(this).parents(".dropdown-menu").length;if(n){return true}i=window.setTimeout(function(){g.removeClass("open");j.trigger(d)},m>0?e.delayClose:0)});j.hover(function(n){if(g.hasClass("open")&&!g.is(n.target)){return true}});g.find(".dropdown-submenu").each(function(){var o=a(this);var n;o.hover(function(){window.clearTimeout(n);o.children(".dropdown-menu").show();o.siblings().children(".dropdown-menu").hide()},function(){var p=o.children(".dropdown-menu");n=window.setTimeout(function(){p.hide()},m>0?e.delayClose:0)})});function k(n){b.find(":focus").blur();if(e.instantlyCloseOthers===true){if(j.parents(".dropdown-menu").length&&j.siblings().parent().hasClass("open")){j.siblings().parent().removeClass("open");j.siblings().parent().find(".dropdown-menu").removeClass("show")}else{j.parent("li").siblings().removeClass("open");j.parent("li").siblings().find(".dropdown-menu").removeClass("show")}}window.clearTimeout(i);g.addClass("open");g.find(".dropdown-menu:first").addClass("show")}})};a(document).ready(function(){if(typeof Modernizr==="object"&&Modernizr.touchevents&&/Mobi/i.test(navigator.userAgent)){var d=a('[data-hover="dropdown"]'),e=a('[data-hover="dropdown"].trail, [data-hover="dropdown"].active'),c=Modernizr.mq("screen and (max-width: 767px)");d.attr("data-toggle","dropdown");d.removeAttr("data-hover","");if(c){e.parent().addClass("open")}d.parent().on("hide.bs.dropdown",function(g){var f=a(this);if(f.hasClass("trail")||f.hasClass("active")){g.preventDefault()}});d.on("click",function(g){var f=a(this);f.parent().siblings().removeClass("open")});return false}a('[data-hover="dropdown"]').dropdownHover()})})(jQuery);if(window.MooTools){window.addEvent("domready",function(){Element.prototype.hide=function(){if($(this).getAttribute("data-hover")==="dropdown"){return this}this.setStyle("display","none")}})};